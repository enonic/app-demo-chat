<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport"
          content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=1, minimum-scale=1.0, maximum-scale=1.0"/>

    <title>Enonic Demo Chat</title>

    <link rel="stylesheet" data-th-href="${portal.assetUrl({'_path=css/main.css'})}" href="/assets/css/critical.css"/>

</head>
<body data-portal-component-type="page" class="page-default__body">


<main>
    <section class="morse-chat morse-chat__container" data-th-attr="data-ws-url=${wsUrl}">

        <header class="morse-chat__header">
            <h1 class="morse-chat__header-heading">Sample chat app built with XP</h1>

            <a class="morse-chat__header-github" href="https://github.com/enonic/app-demo-chat/blob/master/src/main/resources/services/chat-hub/chat-hub.js">
                <img class="morse-chat__header-github-img" data-th-src="${portal.assetUrl({'_path=img/github-icon.svg'})}"/>
                <span class="morse-chat__header-github-text">Source code</span>
            </a>

            <form class="morse-chat__join-form">
                <h2 class="morse-chat__join-heading">Select an avatar to start chatting in Morse code</h2>
                <label class="morse-chat__join-label" data-th-each="avatar : ${avatars}">
                    <input class="morse-chat__join-input" type="radio" name="avatar" data-th-value="${avatar.id}"/>
                    <img class="morse-chat__join-avatar-img" data-th-src="${portal.assetUrl({'_path=img/avatar-' + avatar.id + '.jpg'})}"/>
                    <h3 class="morse-chat__join-avatar-name" data-th-text="${avatar.name}"/>
                </label>
            </form>

        </header>



        <div class="morse-chat__list-container">
            <ol class="morse-chat__list">
                <li class="morse-chat__item morse-chat__item--intro">
                    <div class="morse-chat__item-message">This is the <strong>Morse chat.</strong><br/>Everything you type will be translated to Morse code.<br/>Type <strong>INFO</strong> in the chat to learn how this was made.</div>
                </li>
            </ol>
        </div>


        <form class="morse-chat__message-form">
            <div class="morse-chat__message-fieldset">
                <input class="morse-chat__message-input" type="text" name="text"/>
                <button class="morse-chat__message-submit" type="submit" disabled="disabled">Send</button>
            </div>
            <p class="morse-chat__message-notice">Everything you type will be automatically translated to Morse code.</p>
        </form>
    </section>
</main>

<script data-th-src="${portal.assetUrl({'_path=js/vendor/jquery-3.1.1.min.js'})}"></script>
<script data-th-src="${portal.assetUrl({'_path=js/vendor/jquery.form.min.js'})}"></script>
<script data-th-src="${portal.assetUrl({'_path=js/chat-client.js'})}"></script>

</body>
</html>
